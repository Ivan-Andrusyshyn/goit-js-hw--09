{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAOC,SAASC,cAAc,SAE9BC,EAAcF,SAASC,cAAc,mBACrCE,EAAYH,SAASC,cAAc,iBACnCG,EAAaJ,SAASC,cAAc,kBAE1C,IAAII,EAAQ,EACRC,EAAW,EAEfP,EAAKQ,iBAAiB,UACtB,SAA6BC,GAC3BA,EAAGC,iBAEHH,EAAWI,OAAON,EAAWO,OAE7B,MAQMC,EAAUC,aARFC,IACZ,KAAIT,EAAQH,EAAYS,OAItB,OAAOI,cAAcH,GAM3B,IAAgCI,EAAWC,EATrCZ,GAAS,EASiBW,EARHb,EAQcc,EARHZ,EASvB,IAAIa,SAAQ,CAACC,EAASC,KACbC,KAAKC,SAAW,GAEpCH,IAEAC,GAAQ,IAITG,MAAK,KAEJC,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAqBT,QAAcX,OACzDA,GAAUI,OAAOM,EAAUL,MAAM,IAEpCgB,OAAM,KAELH,EAAA3B,GAAS4B,OAAOG,QAAQ,sBAAoBX,QAAYX,OACxDA,GAAYI,OAAOM,EAAUL,MAAM,GAxBN,GAGEL,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector('.form');\n\nconst inputAmount = document.querySelector('[name=\"amount\"]');\nconst inputStep = document.querySelector('[name=\"step\"]');\nconst inputDelay = document.querySelector('[name=\"delay\"]');\n\nlet count = 0;\nlet interval = 0;\n\nform.addEventListener('submit', makePromisesOnClick);\nfunction makePromisesOnClick(ev) {\n  ev.preventDefault();\n\n  interval = Number(inputDelay.value);\n\n  const maker = interval => {\n    if (count < inputAmount.value) {\n      count += 1;\n      promisMake(inputDelay, inputStep, count, interval);\n    } else {\n      return clearInterval(timerId);\n    }\n  };\n  const timerId = setInterval(maker, interval);\n}\n// let  msDelay = Number(inputDelay.value);\nfunction promisMake(inputDelay, inputStep, count) {\n  const promis = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve();\n    } else {\n      reject();\n    }\n  });\n  promis\n    .then(() => {\n      // msDelay += Number(inputStep.value);\n      Notiflix.Notify.success(`✅ Fulfilled promise ${count} in ${interval}ms`);\n      interval += Number(inputStep.value);\n    })\n    .catch(() => {\n      // msDelay += Number(inputStep.value);\n      Notiflix.Notify.failure(`❌ Rejected promise ${count} in ${interval}ms`);\n      interval += Number(inputStep.value);\n    });\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$inputStep","$47d4ff9957288465$var$inputDelay","$47d4ff9957288465$var$count","$47d4ff9957288465$var$interval","addEventListener","ev","preventDefault","Number","value","timerId","setInterval","interval1","clearInterval","inputStep1","count1","Promise","resolve","reject","Math","random","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.49502374.js.map"}