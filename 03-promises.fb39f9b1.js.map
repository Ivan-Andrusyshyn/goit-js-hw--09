{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAOC,SAASC,cAAc,SAE9BC,EAAcF,SAASC,cAAc,mBACrCE,EAAYH,SAASC,cAAc,iBACnCG,EAAaJ,SAASC,cAAc,kBAEtCI,EAAQ,EACRC,EAAW,EAEfP,EAAKQ,iBAAiB,UACtB,SAA6BC,GAC3BA,EAAGC,iBAEHH,EAAWI,OAAON,EAAWO,OAE7B,IAQMC,EAAUC,aARF,SAAAC,GACZ,KAAIT,EAAQH,EAAYS,OAItB,OAAOI,cAAcH,GAM3B,IAAgCI,EAAWC,EAAXD,EARHb,EAQcc,EATrCZ,GAAS,EAUE,IAAIa,SAAQ,SAACC,EAASC,GACbC,KAAKC,SAAW,GAEpCH,IAEAC,G,IAIDG,MAAK,WAEJC,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAqCC,OAAZV,EAAM,QAAeU,OAATrB,EAAS,OACpEA,GAAUI,OAAOM,EAAUL,M,IAE9BiB,OAAM,WAELJ,EAAA3B,GAAS4B,OAAOI,QAAQ,sBAAkCF,OAAZV,EAAM,QAAeU,OAATrB,EAAS,OACnEA,GAAYI,OAAOM,EAAUL,M,MArBEL,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector('.form');\n\nconst inputAmount = document.querySelector('[name=\"amount\"]');\nconst inputStep = document.querySelector('[name=\"step\"]');\nconst inputDelay = document.querySelector('[name=\"delay\"]');\n\nlet count = 0;\nlet interval = 0;\n\nform.addEventListener('submit', makePromisesOnClick);\nfunction makePromisesOnClick(ev) {\n  ev.preventDefault();\n\n  interval = Number(inputDelay.value);\n\n  const maker = interval => {\n    if (count < inputAmount.value) {\n      count += 1;\n      promisMake(inputDelay, inputStep, count, interval);\n    } else {\n      return clearInterval(timerId);\n    }\n  };\n  const timerId = setInterval(maker, interval);\n}\n// let  msDelay = Number(inputDelay.value);\nfunction promisMake(inputDelay, inputStep, count) {\n  const promis = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve();\n    } else {\n      reject();\n    }\n  });\n  promis\n    .then(() => {\n      // msDelay += Number(inputStep.value);\n      Notiflix.Notify.success(`✅ Fulfilled promise ${count} in ${interval}ms`);\n      interval += Number(inputStep.value);\n    })\n    .catch(() => {\n      // msDelay += Number(inputStep.value);\n      Notiflix.Notify.failure(`❌ Rejected promise ${count} in ${interval}ms`);\n      interval += Number(inputStep.value);\n    });\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$inputStep","$ce04d3a99e08e73b$var$inputDelay","$ce04d3a99e08e73b$var$count","$ce04d3a99e08e73b$var$interval","addEventListener","ev","preventDefault","Number","value","timerId","setInterval","interval1","clearInterval","inputStep1","count1","Promise","resolve","reject","Math","random","then","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.fb39f9b1.js.map"}